---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';

const projects = await getCollection('projects');
---

<BaseLayout title="Work | Sriman Tirupathy Eshwarappa">
	<section class="container mx-auto px-6 py-24">
		<h1 class="text-4xl font-bold text-white mb-4">Case Studies</h1>
		<p class="text-slate-400 mb-12 max-w-2xl">A deep dive into the technical architecture, challenges, and results of my most impactful projects.</p>

		<div class="grid md:grid-cols-2 gap-8">
			{projects.map(project => (
				<a href={`/work/${project.slug}`} class="group block bg-white/5 border border-white/10 rounded-2xl overflow-hidden hover:border-accent/40 transition-all">
					<div class="p-8">
						<div class="flex gap-2 mb-4">
							{project.data.tags.map(tag => (
								<span class="text-[10px] uppercase tracking-wider font-bold text-accent px-2 py-1 bg-accent/10 rounded-md border border-accent/20">
									{tag}
								</span>
							))}
						</div>
						<h2 class="text-2xl font-bold text-white mb-4 group-hover:text-accent transition-colors">{project.data.title}</h2>
						<p class="text-slate-400 mb-6 leading-relaxed line-clamp-3">{project.data.description}</p>
						<div class="flex items-center gap-4 text-xs font-semibold text-slate-500">
							<span class="flex items-center gap-1 italic">Read Case Study â†’</span>
						</div>
					</div>
				</a>
			))}
		</div>
	</section>
</BaseLayout>
